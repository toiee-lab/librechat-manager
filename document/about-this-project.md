# Claude Code プロジェクト仕様書: LibreChatユーザー管理システム

## 1. プロジェクト概要

### 1.1 システムの目的と解決する問題

本システムは、LibreChatを活用したAI授業・ワークショップにおけるユーザーアカウント管理の効率化を目的としています。

現状では、講師が授業前に生徒アカウントの準備やリセットを行う際、システム管理者（スーパーユーザー）への依頼が必要となり、以下の問題が発生しています：
- 管理者の作業負担が増加している
- 講師からの依頼タイミングによっては準備が間に合わないリスクがある
- アカウント管理の柔軟性と即時性が欠如している

本システムは、講師自身がウェブインターフェースを通じて生徒アカウントの一括作成・管理を行える権限委譲型の管理ツールを提供することで、これらの問題を解決します。LibreChatのコマンドラインツールを裏側で活用しつつ、講師が直感的に操作できるインターフェースを提供します。

### 1.2 主要な機能と優先順位

- スーパーユーザー機能 (優先度: 高)
  - 講師アカウントの追加・削除管理
  - 講師ごとのプレフィックス、最大ユーザー作成数の設定
  - 講師の活動ログの閲覧・監視

- 講師向け機能 (優先度: 高)
  - 生徒アカウントの一括作成（最大20名程度、プレフィックスXX@toiee.jp形式）
  - 生徒アカウントの一括リセット（削除と再作成）
  - 管理中の生徒アカウント情報の一覧表示

- システム管理機能 (優先度: 中)
  - ユーザー数の上限管理（講師ごとの上限を変更可能）
  - システム操作ログの保存と閲覧

### 1.3 対象ユーザーと使用コンテキスト

#### 対象ユーザー
1. **スーパーユーザー（システム管理者）**
   - 人数：少数（1〜数名）
   - 役割：システム全体の管理、講師アカウントの作成・管理
   - 技術スキル：中〜高レベル（システム運用知識あり）

2. **講師（管理者）**
   - 人数：約20名
   - 役割：自分の授業・ワークショップの生徒アカウント管理
   - 技術スキル：低〜中レベル（基本的なウェブインターフェース操作可能）
   - 担当生徒数：平均10〜20名

3. **生徒（エンドユーザー）**
   - 人数：最大約400名（20講師 × 最大20名）
   - システム直接利用なし（LibreChatのみ利用）

#### 使用コンテキスト
- **授業・ワークショップ準備時**：講師が事前に生徒アカウントを一括作成
- **授業・ワークショップ開始時**：必要に応じて当日のアカウント調整
- **授業・ワークショップ終了後**：アカウントのリセット（削除と再作成）
- **定期的な管理作業**：スーパーユーザーによる講師アカウント管理やログ確認

#### 使用環境
- ウェブブラウザを通じたアクセス
- PC環境からの操作を想定（スマートフォン対応は必須ではない）
- 同時アクセス数は限定的（大規模な同時アクセスは想定しない）